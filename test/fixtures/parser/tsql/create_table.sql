IF NOT EXISTS(SELECT * FROM sys.sequences WHERE object_id = OBJECT_ID(N'[dbo].[SEQ_VWSDEST_ECDC_VARIANTS]') AND type = 'SO')
CREATE SEQUENCE SEQ_VWSDEST_ECDC_VARIANTS
  START WITH 1
  INCREMENT BY 1;
GO
CREATE TABLE VWSDEST.ECDC_VARIANTS(
    [ID] INT PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR [dbo].[SEQ_VWSDEST_ECDC_VARIANTS]),
    [COUNTRY] [varchar](100) NULL,
	[COUNTRY_CODE] [varchar](3) NULL,
	[YEAR_WEEK] [varchar](100) NULL,
	[WEEK_START] [date] NULL,
	[WEEK_END] [date] NULL,
	[SOURCE] [varchar](100) NULL,
	[NEW_CASES] [int] NULL,
	[SAMPLE_SIZE] [int] NULL,
	[ECDC_CATEGORY] [varchar](100) NULL,
	[PERCENT_CASES_SAMPLED] [decimal](8, 1) NULL,	
	[VARIANT_CODE] [varchar](2048) NULL,
	[VARIANT] [varchar](100) NULL,
	[VARIANT_OF_CONCERN] [bit] NULL,
	[OCCURRENCE] [int] NULL,
	[PERCENT_VARIANT] [decimal](8, 1) NULL,
  	[DATE_LAST_INSERTED]  DATETIME DEFAULT GETDATE()
);

IF NOT EXISTS(SELECT * FROM sys.indexes WHERE NAME='IX_DEST_ECDC_VARIANTS')
    CREATE NONCLUSTERED INDEX IX_DEST_ECDC_VARIANTS
    ON VWSDEST.ECDC_VARIANTS(DATE_LAST_INSERTED);    
GO